
//
//.modal {
//	$base-border-color: #dcdcdc !default;
//	$base-border-radius: 3px !default;
//	$base-background-color: #fff !default;
//	$base-font-size: 1em !default;
//	$base-line-height: 1.5em !default;
//	$action-color: #477dca !default;
//	$dark-gray: #333 !default;
//	$light-gray: #ddd !default;
//	$medium-screen: 40em !default;
//	$large-screen: 53.75em !default;
//	$base-font-color: $dark-gray !default;
//	$modal-padding: 3em;
//	$modal-background: $base-background-color;
//	$modal-close-color: $light-gray;
//	$modal-image-height: 135px;
//	$modal-image-width: $modal-image-height;
//	$modal-trigger-image-width: 300px;
//
//	label {
//		cursor: pointer;
//		margin-bottom: 0;
//	}
//
//	label img {
//		border-radius: $modal-trigger-image-width / 2;
//		display: block;
//		max-width: $modal-trigger-image-width;
//	}
//
//	.modal-state {
//		display: none;
//	}
//
//	.modal-trigger {
//		padding: 0.8em 1em;
//	}
//
//	.modal-fade-screen { // overlay
//		@include position(fixed, 0);
//		background-color: rgba(#000, 0.85);
//		opacity: 0;
//		padding-top: 0.6em;
//		text-align: left;
//		transition: opacity 0.25s ease;
//		visibility: hidden;
//		z-index: 99999999999;
//
//		@include breakpoint($delta) {
//			padding-top: 10em;
//		}
//
//		.modal-bg {
//			@include position(absolute, 0);
//			cursor: pointer;
//		}
//	}
//
//	.modal-close {
//		@include position(absolute, ($modal-padding /2) ($modal-padding /2) null null);
//		@include size(1.5em);
//		background: $modal-background;
//		cursor: pointer;
//
//		&::after,
//		&::before {
//			@include position(absolute, 3px 3px 0 50%);
//			@include size(0.15em 1.5em);
//			background: $modal-close-color;
//			content: "";
//			display: block;
//			margin: -3px 0 0 -1px;
//			transform: rotate(45deg);
//		}
//
//		&:hover::after,
//		&:hover::before {
//			background: darken($modal-close-color, 10%);
//		}
//
//		&::before {
//			transform: rotate(-45deg);
//		}
//	}
//
//	.modal-inner {
//		background: $modal-background;
//		border-radius: $base-border-radius;
//		margin: auto;
//		margin-top: 0;
//		max-height: 95%;
//		overflow: auto;
//		padding: $modal-padding / 2;
//		position: relative;
//		transition: opacity 0.25s ease;
//		width: 95%;
//
//		@include breakpoint($charlie) {
//			max-height: 70%;
//			padding: $modal-padding;
//			width: 60%;
//		}
//
//		@include breakpoint($delta) {
//			width: 50%;
//		}
//
//		h1 {
//			color: $base-font-color;
//			text-align: left;
//			text-transform: capitalize;
//		}
//
//		p {
//			color: $base-font-color;
//			line-height: $base-line-height;
//		}
//
//		.modal-intro {
//			margin-bottom: 1em;
//		}
//
//		.modal-content {
//			color: $base-font-color;
//
//			@include breakpoint($delta) {
//				columns: 2 8em;
//			}
//		}
//
//		a.cta {
//			color: $base-background-color;
//			display: inline-block;
//			margin-right: 0.5em;
//			margin-top: 1em;
//
//			&:last-child {
//				padding: 0 2em;
//			}
//		}
//	}
//
//	.modal-state:checked + .modal-fade-screen {
//		opacity: 1;
//		visibility: visible;
//	}
//
//	.modal-state:checked + .modal-fade-screen .modal-inner {
//		top: 0.5em;
//	}
//}
//
//.modal-open {
//	overflow: hidden;
//}
//
//// Based on code by Kasper Mikiewicz
//


.modal { display: none; }

.vanilla-modal {
	.modal {
		display: block;
		position: fixed;
		content: "";
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(0, 0, 0, 0.6);
		z-index: -1;
		opacity: 0;
		font-size: 0;
		transition: opacity 0.2s, z-index 0s 0.2s;
		text-align: center;
		overflow: hidden;
		overflow-y: auto;
		white-space: nowrap;
		-webkit-overflow-scrolling: touch;
		> * {
			display: inline-block;
			white-space: normal;
			vertical-align: middle;
			text-align: left;
		}
		&:before {
			display: inline-block;
			overflow: hidden;
			width: 0;
			height: 100%;
			vertical-align: middle;
			content: "";
		}
	}
	&.modal-visible .modal {
		z-index: 99;
		opacity: 1;
		transition: opacity 0.2s;
	}
}

.modal-inner {
	position: relative;
	overflow: hidden;
	max-width: 90%;
	max-height: 90%;
	overflow-x: hidden;
	overflow-y: auto;
	background: $color-five;
	border: 4px solid $color-four;
	z-index: -1;
	opacity: 0;
	transform: scale(0);
	transition: opacity 0.2s, transform 0.2s, z-index 0s 0.2s;

	@include media($charlie) {
		max-width: 75%;
	}
	@include media($delta) {
		max-width: 50%;
	}

	.modal-visible & {
		z-index: 100;
		opacity: 1;
		transform: scale(1);
		transition: opacity 0.2s, transform 0.2s;
	}
}

a[rel="modal:close"] {
	position: absolute;
	z-index: 2;
	right: 0;
	top: 0;
	width: 25px;
	height: 25px;
	line-height: 1.5 * $font-size;
	font-size: $font-size;
	font-weight: $bold;
	font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
	color: $color-one;
	cursor: pointer;
	text-align: center;
	background: $color-four;
	box-shadow: -1px 1px 2px rgba(0,0,0,0.2);
	&:focus,
	&:hover {
		text-decoration: none;
	}
}


.modal-content {
	@include outer-container(100%);
	padding: 2 * $spacing 0;

	p,
	form {
		@include span-columns(6 of 8);
		@include shift(1 of 8);
		font-size: $font-size;
	}

	input,
	textarea {
		color: $gray-darker;
		background-color: $color-three;
		border: 0;
	}
}
